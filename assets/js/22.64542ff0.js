(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{548:function(s,n,a){"use strict";a.r(n);var e=a(2),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[s._v("#")]),s._v(" Vue")]),s._v(" "),a("h2",{attrs:{id:"组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[s._v("#")]),s._v(" 组件")]),s._v(" "),a("h3",{attrs:{id:"组件样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件样式"}},[s._v("#")]),s._v(" 组件样式")]),s._v(" "),a("p",[s._v("scoped会把样式限制在组件内，不能影响其他组件或子组件，要想影响子组件可以使用深度选择器"),a("code",[s._v(">>>")]),s._v("，例如："),a("code",[s._v(".m-con >>> .u-center")])]),s._v(" "),a("h2",{attrs:{id:"解决前后端分离开发阶段测试跨域问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决前后端分离开发阶段测试跨域问题"}},[s._v("#")]),s._v(" 解决前后端分离开发阶段测试跨域问题")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("proxyTable: {\n    // 用于开发，解决前后端分离开发的跨域问题\n    '/api': {\n        target: 'http://127.0.0.1:8000/',\n        changeOrigin: true\n    },\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[s._v("这几条语句加在config目录下的index.js中")])]),s._v(" "),a("p",[s._v("跨域解决后还有个问题就是后端重定向，需要将重定向的地址也代理到相应的地址上，配置如下:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("onProxyRes: function(proxyRes, req, res) { // 监听代理的返回结果\n    const location = proxyRes.headers['location']\n    const locationRE = /http(?:s)?:\\/\\/[0-9.:]+?(\\/.*?[a-zA-Z]+)$/\n    if(location) {  // 解决前后端分离，后端重定向问题\n        const matched = location.match(locationRE)\n        const matchGroup = matched && matched[1]\n        proxyRes.headers['location'] =  matchGroup ? `http://xx.xx.xx.xx:8081${matchGroup}` : location\n        }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("blockquote",[a("p",[s._v("这个配置放到webpack的"),a("code",[s._v("devServer.proxy")]),s._v("对象中")])]),s._v(" "),a("h2",{attrs:{id:"动画组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动画组件"}},[s._v("#")]),s._v(" 动画组件")]),s._v(" "),a("h3",{attrs:{id:"几个注意的点，容易被坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几个注意的点，容易被坑"}},[s._v("#")]),s._v(" 几个注意的点，容易被坑")]),s._v(" "),a("ul",[a("li",[s._v("各个过渡阶段的类名会添加到跟节点上，即"),a("code",[s._v("transition")]),s._v("组件中的根节点")]),s._v(" "),a("li",[s._v("类名中如果嵌套使用选择器在过渡类名下需要加入过渡时间，动画也是如此，否则过渡或动画会一闪而过")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".match-slider-enter-active{\n      transition: all 5s;\n      .g-top{\n        .m-top {\n          animation: leftSlider 5s;\n        }\n        .m-bottom{\n          animation: rightSlider 5s;\n        }\n      }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#采坑"}},[s._v("#")]),s._v(" 采坑")]),s._v(" "),a("ul",[a("li",[s._v("vue组件中动态改变img标签的图片地址")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import successImg from './img/success.png'\nimport warningImg from './img/warning.png'\nimport infoImg from './img/info.png'\nimport errorImg from './img/error.png'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("先将左右要用到的图片静态静态导入，然后在代码中使用就行了")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置网站facvicon.ico，图片要放在项目的根目录下，然后在build目录下的"),a("code",[s._v("webpack.dev.conf.js")]),s._v("和"),a("code",[s._v("webpack.prod.conf.js")]),s._v("的new HtmlWebpackPlugin中配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("new HtmlWebpackPlugin({\n  filename: 'index.html',\n  template: 'index.html',\n  inject: true,\n  favicon: path.resolve('favicon.png')\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("解决IE上placeholder的兼容性问题，使用到vue的mixins")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 定义mixin\nimport {isIE, supportPlaceholder} from 'common/js/env.js'\n\nexport const fixPlaceholder = {\n  methods: {\n    _fixPlaceholder() {\n      if(isIE && !supportPlaceholder) {\n        const inputs = document.querySelectorAll('input')\n        for(let i = 0; i < inputs.length; i++) {\n          const input = inputs[i]\n          const placeholder = input.getAttribute('placeholder')\n          if (input.type === 'password') {\n            input.setAttribute('data-passwd', true)\n            input.type = 'text'\n            input.value = placeholder\n          } else {\n            input.value = placeholder\n          }\n\n          input.onfocus = function (e) {\n            if(e.target.value === placeholder) {\n              e.target.value = ''\n            }\n          }\n\n          input.onblur = function (e) {\n            if(e.target.value.trim() === '') {\n              e.target.value = placeholder\n            }\n          }\n        }\n      }\n    }\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])]),a("blockquote",[a("p",[s._v("在需要用到的组件中"),a("code",[s._v("mounted")]),s._v("钩子函数中使用混入的"),a("code",[s._v("_fixPlaceholder方法")])])]),s._v(" "),a("h2",{attrs:{id:"axios采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios采坑"}},[s._v("#")]),s._v(" Axios采坑")]),s._v(" "),a("ul",[a("li",[s._v("post请求默认把请求对象转成json，不管是否设置了"),a("code",[s._v("Content-Type': 'application/x-www-form-urlencoded")]),s._v("，如果要传入表单类型的数据就需要使用"),a("code",[s._v("qs")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import qs from 'qs'\n\nexport function login(userName, passWord, validateCode) {\n  return netWork.post(apis.common.login, qs.stringify({\n    userName: userName,\n    passWord: hex_md5(passWord),\n    validateCode: validateCode.toUpperCase()\n  })).then((res) => {\n    return Promise.resolve(res.data)\n  })\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"element-ui采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#element-ui采坑"}},[s._v("#")]),s._v(" Element-ui采坑")]),s._v(" "),a("ul",[a("li",[s._v("table组件表头和内容错误，使用如下样式代码解决")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".el-table {\n  >>> th.gutter {\n    display: table-cell !important;\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("table组件列宽度设置百分比使用"),a("code",[s._v("min-width")]),s._v("属性")]),s._v(" "),a("li",[s._v("设置表头颜色，在el-table上设置"),a("code",[s._v(":header-cell-style=\"{background: '#f2f2f2', color: '#666'}\"")])])]),s._v(" "),a("h2",{attrs:{id:"vuecli3配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuecli3配置"}},[s._v("#")]),s._v(" vuecli3配置")]),s._v(" "),a("ul",[a("li",[s._v("去掉代码混淆"),a("code",[s._v("config.optimization.minimize(false)")])])])])}),[],!1,null,null,null);n.default=t.exports}}]);